list.yr=fittot_fun(years.list=list.yr,duration=duration,lag=lag) #add total fitness
#Create average moisture measure
par(mfrow=c(2,length(interests)),oma=c(0,0,2,0))
for(cur.interest in interests){
exp_covars_sub(years.list=years.list,interest=cur.interest,numyears=numyears)
}
mtext(paste("Using: ", dat.file,", ", fit.file,", decay = ",decay,sep=""), outer = TRUE, cex = 1.5)
}
exp_corr_plot <- function(df.yr,interest,textpos="top"){
#function for plotting within exp_corr
vals.interest=df.yr[,interest]
out=lm(df.yr$fit.tot ~ vals.interest)
xjit.amount=sort(abs(unique(vals.interest)))[which(sort(abs(unique(vals.interest)))>1*10^-10)[1]] #ugly, but finds smallest non-zero difference between x values
plot(jitter(vals.interest,amount=.4*xjit.amount),jitter(df.yr$fit.tot),pch=".",
main=paste("Correlation of fitness with", interest),
ylab="Total fitness",
xlab=interest,
cex.lab=1.5)
abline(out,col='blue',lwd=2)
#Add information about our line
legend(x=textpos,legend=paste("r-squared =", round(summary(out)$r.squared,digits=4)),
bty="n",cex=1.5)
}
exp_corr <- function(dat.file="davisDat.Rdata", #Whiche climate file to use
traits=c("temp","moist","day","cutemp"),
text.pos=FALSE, #For custom position of legends, replace with a vector of position strings
fit.file="standgauss.R", #Which fitness file to use
decay=.2, #The decay parameter for calculating moisture
baseTemp=0, #The base temperature to use for calucating cumulative temperature
numyears=3, #the number of years to plot for the individual plots
other.name="moist", #The second climate variable to use for fitness (in addition to temp)
duration=10, #duration used in calculating total fitness
lag=1){ #lag used in calculating total fitness
set_wrkdir()
source(paste("fitcurve/",fit.file,sep=""))
source("scripts/windows_subs.R")
yearstuff=yeargen(dat.file=dat.file, fit.parms=fit.parms,decay=decay,baseTemp=baseTemp,other.name=other.name)
list.yr=fittot_fun(years.list=yearstuff[[1]],duration=duration,lag=lag) #grab the years.list part of yearstuff
df.yr=do.call(rbind.data.frame,list.yr)
numrows=floor(sqrt(length(traits)))
numcols=ceiling(length(traits)/numrows)
par(mfrow=c(numrows,numcols),oma=c(0,0,2,0))
text.position=rep("top",length(traits))
if(text.pos[1]!=FALSE) text.position=text.pos
for(i in 1:length(traits)){
exp_corr_plot(df.yr=df.yr,interest=traits[i], textpos=text.position[i])
}
mtext(paste("Using: ", dat.file,", ", fit.file,", decay = ",decay,sep=""), outer = TRUE, cex = 1.5)
}
exp_covars(dat.file="GreatFallsDat.Rdata",fit.file = "standgauss.R",decay=10)
exp_covars(dat.file="GreatFallsDat.Rdata",fit.file = "standgauss.R",decay=10,interests=c("dtemp","dprecip","dmoist","fitness"))
exp_covars(dat.file="GreatFallsDat.Rdata",fit.file = "standgauss.R",decay=10,interests=c("dtemp","dprecip","dmoist","fit.tot"))
head(years.list[[1]])
set_wrkdir()
source(paste("fitcurve/",fit.file,sep=""))
source("scripts/windows_subs.R")
yearstuff=yeargen(dat.file=dat.file, fit.parms=fit.parms,decay=decay,baseTemp=baseTemp,other.name=other.name)
list.yr=yearstuff[[1]] #grab the years.list part of yearstuff
list.yr=fittot_fun(years.list=list.yr,duration=duration,lag=lag) #add total fitness
head(list.yr)
head(list.yr[[1]])
set_wrkdir()
source("scripts/exploratory/explore_funs.R")
cat("fitness files you might use:")
cat("Climate data files we can use:")
list.files("fitcurve/")
list.files("data-years/")
x11()
#Example call of the function:
exp_covars(dat.file="GreatFallsDat.Rdata",fit.file = "standgauss.R",decay=10,interests=c("dtemp","dprecip","dmoist","fit.tot"))
#Script to use exp_fitfun() to look at fitness functions
set_wrkdir<-function(){
#function for setting working directory to the right place given the current computer/user
if(Sys.getenv("USERNAME")=="Collin" || Sys.getenv("USERNAME")=="collin" || Sys.getenv("USERNAME")=="Collin.work"){ #If it's collin
if(Sys.info()["nodename"]=="DESKTOP-D6QSU8F"){
setwd("G:\\Repos\\phenology-cues") #desktop
}else{
setwd("C:\\Repos\\phenology-cues") #desktop
}
}else{
if(Sys.getenv("COMPUTERNAME")=="ENT-YANG01"){
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")#desktop
}else{
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")} #laptop
}
}
set_wrkdir()
source("scripts/exploratory/explore_funs.R")
cat("fitness files you might use:")
list.files("fitcurve/")
cat("Climate data files we can use:")
list.files("data-years/")
x11()
#Example call of the function:
exp_covars(dat.file="GreatFallsDat.Rdata",fit.file = "standgauss.R",decay=10,interests=c("dtemp","dprecip","dmoist","fit.tot"))
exp_covars(dat.file="GreatFallsDat.Rdata",fit.file = "standgauss.R",decay=10,interests=c("moist","precip","temp","fit.tot"))
exp_covars(dat.file="GreatFallsDat.Rdata",fit.file = "standgauss.R",decay=.2,interests=c("moist","precip","temp","fit.tot"))
require(MASS)
fit.parms
fit.parms$sigmat='hi'
fitparms
fit.parms
fit.parms=list(best.temp=40, shape.temp=10, #The optimal temp and the sd for the temp-by-fitness curve (which is gaussian)
best.other=10, shape.other=30, #The optimal precip and the sd for the precip-by-fitness curve (which is gaussian)
corr=0) #correlation between the two terms. allows us to rotate the ellipse that we get in 2d space.
sigmat=with(fit.parms,matrix(c(shape.temp^2,shape.temp*shape.other*corr,shape.temp*shape.other*corr,shape.other^2),2,2,byrow=TRUE))
sigmat
fit_fn<-function(years, #data frame containing temp and the "other.name"
other.name, #name of the "other" variable
fit.parms){ #the list of fitness parameters
require(mvtnorm)
#note: using with() to essentially attach fit.parms, but without using attach, which pushes them to the global environment (ewwww)
with(fit.parms, dmvnorm(years$temp,mean=best.temp,sd=sd.temp)*dnorm(years[,other.name],mean=best.other,sd=sd.other))
}
dmvnorm(30,40,means=c(best.temp,best.other),sigma=sigmat)
#Script to use exp_fitfun() to look at fitness functions
set_wrkdir<-function(){
#function for setting working directory to the right place given the current computer/user
if(Sys.getenv("USERNAME")=="Collin" || Sys.getenv("USERNAME")=="collin" || Sys.getenv("USERNAME")=="Collin.work"){ #If it's collin
if(Sys.info()["nodename"]=="DESKTOP-D6QSU8F"){
setwd("G:\\Repos\\phenology-cues") #desktop
}else{
setwd("C:\\Repos\\phenology-cues") #desktop
}
}else{
if(Sys.getenv("COMPUTERNAME")=="ENT-YANG01"){
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")#desktop
}else{
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")} #laptop
}
}
set_wrkdir()
source("scripts/exploratory/explore_funs.R")
cat("fitness files you might use:")
list.files("fitcurve/")
cat("Climate data files we can use:")
list.files("data-years/")
x11()
#Example call of the function:
exp_fitfun(fit.file="multivargauss.R",dat.file="ithacaDat.Rdata")
?dmvnorm
#Script to use exp_fitfun() to look at fitness functions
set_wrkdir<-function(){
#function for setting working directory to the right place given the current computer/user
if(Sys.getenv("USERNAME")=="Collin" || Sys.getenv("USERNAME")=="collin" || Sys.getenv("USERNAME")=="Collin.work"){ #If it's collin
if(Sys.info()["nodename"]=="DESKTOP-D6QSU8F"){
setwd("G:\\Repos\\phenology-cues") #desktop
}else{
setwd("C:\\Repos\\phenology-cues") #desktop
}
}else{
if(Sys.getenv("COMPUTERNAME")=="ENT-YANG01"){
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")#desktop
}else{
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")} #laptop
}
}
set_wrkdir()
source("scripts/exploratory/explore_funs.R")
cat("fitness files you might use:")
list.files("fitcurve/")
cat("Climate data files we can use:")
list.files("data-years/")
x11()
#Example call of the function:
exp_fitfun(fit.file="multivargauss.R",dat.file="ithacaDat.Rdata")
#Script to use exp_fitfun() to look at fitness functions
set_wrkdir<-function(){
#function for setting working directory to the right place given the current computer/user
if(Sys.getenv("USERNAME")=="Collin" || Sys.getenv("USERNAME")=="collin" || Sys.getenv("USERNAME")=="Collin.work"){ #If it's collin
if(Sys.info()["nodename"]=="DESKTOP-D6QSU8F"){
setwd("G:\\Repos\\phenology-cues") #desktop
}else{
setwd("C:\\Repos\\phenology-cues") #desktop
}
}else{
if(Sys.getenv("COMPUTERNAME")=="ENT-YANG01"){
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")#desktop
}else{
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")} #laptop
}
}
set_wrkdir()
source("scripts/exploratory/explore_funs.R")
cat("fitness files you might use:")
list.files("fitcurve/")
cat("Climate data files we can use:")
list.files("data-years/")
x11()
#Example call of the function:
exp_fitfun(fit.file="multivargauss.R",dat.file="ithacaDat.Rdata")
x11()
best.temp=40; shape.temp=10; #The optimal temp and the sd for the temp-by-fitness curve (which is gaussian)
best.other=10; shape.other=30; #The optimal precip and the sd for the precip-by-fitness curve (which is gaussian)
skew.t=skew.o=-10 #skew values for temp and other skewed gaussians
#Converting best.temp and best.other to location parameters
obj_fun <- function(location,goal,maxrange,omega,alpha){
x=seq(-(maxrange),maxrange,by=.1)
z=dsn(x,xi=location,omega=omega,alpha=alpha)
return((x[which(z==max(z))]-goal)^2)
}
goal=best.temp
loc.t=optimize(obj_fun,interval = c(goal/2,goal*2),
goal=goal,maxrange=80,omega=shape.temp,alpha=skew.t)
loc.t=loc.t$minimum #Location parameter (xi) that gives target shape
goal=best.other
loc.o=optimize(obj_fun,interval = c(goal/2,goal*2),goal=goal,maxrange=80,omega=shape.other,alpha=skew.o)
loc.o=loc.o$minimum #Location parameter (xi) that gives target shape
#Turning our parameters into a list for feeding into the fit_fn
fit.parms=list(loc.t,loc.o,
shape.temp,shape.other,
skew.t,skew.o)
## Use the lines below to visualize what the skew normal curves look like.
x=seq(0,80,.1)
plot(x,dsn(x,xi=loc.t,omega=shape.temp,alpha=skew.t),type='l')
abline(v=best.temp)
skew.t=skew.o=10 #skew values for temp and other skewed gaussians
obj_fun <- function(location,goal,maxrange,omega,alpha){
x=seq(-(maxrange),maxrange,by=.1)
z=dsn(x,xi=location,omega=omega,alpha=alpha)
return((x[which(z==max(z))]-goal)^2)
}
goal=best.temp
loc.t=optimize(obj_fun,interval = c(goal/2,goal*2),
goal=goal,maxrange=80,omega=shape.temp,alpha=skew.t)
loc.t=loc.t$minimum #Location parameter (xi) that gives target shape
goal=best.other
loc.o=optimize(obj_fun,interval = c(goal/2,goal*2),goal=goal,maxrange=80,omega=shape.other,alpha=skew.o)
loc.o=loc.o$minimum #Location parameter (xi) that gives target shape
#Turning our parameters into a list for feeding into the fit_fn
fit.parms=list(loc.t,loc.o,
shape.temp,shape.other,
skew.t,skew.o)
## Use the lines below to visualize what the skew normal curves look like.
x=seq(0,80,.1)
plot(x,dsn(x,xi=loc.t,omega=shape.temp,alpha=skew.t),type='l')
abline(v=best.temp)
=
skew.t=skew.o=-10 #skew values for temp and other skewed gaussians
obj_fun <- function(location,goal,maxrange,omega,alpha){
x=seq(-(maxrange),maxrange,by=.1)
z=dsn(x,xi=location,omega=omega,alpha=alpha)
return((x[which(z==max(z))]-goal)^2)
}
goal=best.temp
loc.t=optimize(obj_fun,interval = c(goal/2,goal*2),
goal=goal,maxrange=80,omega=shape.temp,alpha=skew.t)
loc.t=loc.t$minimum #Location parameter (xi) that gives target shape
goal=best.other
loc.o=optimize(obj_fun,interval = c(goal/2,goal*2),goal=goal,maxrange=80,omega=shape.other,alpha=skew.o)
loc.o=loc.o$minimum #Location parameter (xi) that gives target shape
#Turning our parameters into a list for feeding into the fit_fn
fit.parms=list(loc.t,loc.o,
shape.temp,shape.other,
skew.t,skew.o)
## Use the lines below to visualize what the skew normal curves look like.
x=seq(0,80,.1)
plot(x,dsn(x,xi=loc.t,omega=shape.temp,alpha=skew.t),type='l')
abline(v=best.temp)
set_wrkdir<-function(){
#function for setting working directory to the right place given the current computer/user
if(Sys.getenv("USERNAME")=="Collin" || Sys.getenv("USERNAME")=="collin" || Sys.getenv("USERNAME")=="Collin.work"){ #If it's collin
if(Sys.info()["nodename"]=="DESKTOP-D6QSU8F"){
setwd("G:\\Repos\\phenology-cues") #desktop
}else{
setwd("C:\\Repos\\phenology-cues") #desktop
}
}else{
if(Sys.getenv("COMPUTERNAME")=="ENT-YANG01"){
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")#desktop
}else{
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")} #laptop
}
}
set_wrkdir()
source("scripts/exploratory/explore_funs.R")
cat("fitness files you might use:")
list.files("fitcurve/")
cat("Climate data files we can use:")
list.files("data-years/")
x11()
exp_fitfun()
exp_fitfun(fit.file="multivargauss.R",dat.file="ithacaDat.Rdata")
#Script to use exp_fitfun() to look at fitness functions
set_wrkdir<-function(){
#function for setting working directory to the right place given the current computer/user
if(Sys.getenv("USERNAME")=="Collin" || Sys.getenv("USERNAME")=="collin" || Sys.getenv("USERNAME")=="Collin.work"){ #If it's collin
if(Sys.info()["nodename"]=="DESKTOP-D6QSU8F"){
setwd("G:\\Repos\\phenology-cues") #desktop
}else{
setwd("C:\\Repos\\phenology-cues") #desktop
}
}else{
if(Sys.getenv("COMPUTERNAME")=="ENT-YANG01"){
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")#desktop
}else{
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")} #laptop
}
}
set_wrkdir()
source("scripts/exploratory/explore_funs.R")
cat("fitness files you might use:")
list.files("fitcurve/")
cat("Climate data files we can use:")
list.files("data-years/")
x11()
#Example call of the function:
exp_fitfun()
head(exp_fitfun)
exp_fitfun
head(exp_fitfun)
exp_fitfun(dat.file="ithacaDat.Rdata")
exp_fitfun(fit.file="skewgauss.R",dat.file="ithacaDat.Rdata")
exp_fitfun(fit.file="skewgauss.R",dat.file="ithacaDat.Rdata",max.temp=60)
require(sn)
best.temp=40; shape.temp=10; #The optimal temp and the sd for the temp-by-fitness curve (which is gaussian)
best.other=10; shape.other=30; #The optimal precip and the sd for the precip-by-fitness curve (which is gaussian)
skew.t=skew.o=-10 #skew values for temp and other skewed gaussians
#Converting best.temp and best.other to location parameters
obj_fun <- function(location,goal,maxrange,omega,alpha){
x=seq(-(maxrange),maxrange,by=.1)
z=dsn(x,xi=location,omega=omega,alpha=alpha)
return((x[which(z==max(z))]-goal)^2)
}
goal=best.temp
loc.t=optimize(obj_fun,interval = c(goal/2,goal*2),
goal=goal,maxrange=80,omega=shape.temp,alpha=skew.t)
loc.t=loc.t$minimum #Location parameter (xi) that gives target shape
goal=best.other
loc.o=optimize(obj_fun,interval = c(goal/2,goal*2),goal=goal,maxrange=80,omega=shape.other,alpha=skew.o)
loc.o=loc.o$minimum #Location parameter (xi) that gives target shape
#Turning our parameters into a list for feeding into the fit_fn
fit.parms=list(loc.t,loc.o,
shape.temp,shape.other,
skew.t,skew.o)
## Use the lines below to visualize what the skew normal curves look like.
x=seq(0,80,.1)
plot(x,dsn(x,xi=loc.t,omega=shape.temp,alpha=skew.t),type='l')
abline(v=best.temp)
#
x=seq(0,80,.1)
plot(x,dsn(x,xi=loc.t,omega=shape.temp,alpha=skew.t)^2,type='l')
abline(v=best.temp)
exp_fitfun(fit.file="multivargauss.R",dat.file="ithacaDat.Rdata",max.temp=60)
source("scripts/exploratory/explore_funs.R")
cat("fitness files you might use:")
list.files("fitcurve/")
cat("Climate data files we can use:")
list.files("data-years/")
set_wrkdir<-function(){
#function for setting working directory to the right place given the current computer/user
if(Sys.getenv("USERNAME")=="Collin" || Sys.getenv("USERNAME")=="collin" || Sys.getenv("USERNAME")=="Collin.work"){ #If it's collin
if(Sys.info()["nodename"]=="DESKTOP-D6QSU8F"){
setwd("G:\\Repos\\phenology-cues") #desktop
}else{
setwd("C:\\Repos\\phenology-cues") #desktop
}
}else{
if(Sys.getenv("COMPUTERNAME")=="ENT-YANG01"){
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")#desktop
}else{
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")} #laptop
}
}
set_wrkdir()
source("scripts/exploratory/explore_funs.R")
cat("fitness files you might use:")
list.files("fitcurve/")
cat("Climate data files we can use:")
list.files("data-years/")
x11()
exp_covars(dat.file="GreatFallsDat.Rdata",fit.file = "standgauss.R",decay=.2,interests=c("moist","precip","temp","fit.tot"))
exp_covars(dat.file="HonoluluDat.Rdata",fit.file = "standgauss.R",decay=10,interests=c("dtemp","dprecip","dmoist","fit.tot"))
exp_covars(dat.file="HonoluluDat.Rdata",fit.file = "standgauss.R",decay=.2,interests=c("moist","precip","temp","fit.tot"))
#Script to use exp_fitfun() to look at fitness functions
set_wrkdir<-function(){
#function for setting working directory to the right place given the current computer/user
if(Sys.getenv("USERNAME")=="Collin" || Sys.getenv("USERNAME")=="collin" || Sys.getenv("USERNAME")=="Collin.work"){ #If it's collin
if(Sys.info()["nodename"]=="DESKTOP-D6QSU8F"){
setwd("G:\\Repos\\phenology-cues") #desktop
}else{
setwd("C:\\Repos\\phenology-cues") #desktop
}
}else{
if(Sys.getenv("COMPUTERNAME")=="ENT-YANG01"){
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")#desktop
}else{
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")} #laptop
}
}
set_wrkdir()
source("scripts/exploratory/explore_funs.R")
cat("fitness files you might use:")
list.files("fitcurve/")
cat("Climate data files we can use:")
list.files("data-years/")
x11()
#Example call of the function:
exp_covars(dat.file="HonoluluDat.Rdata",fit.file = "standgauss.R",decay=10,interests=c("dtemp","dprecip","dmoist","fit.tot"))
x11()
exp_covars(dat.file="HonoluluDat.Rdata",fit.file = "standgauss.R",decay=.2,interests=c("moist","precip","temp","fit.tot"))
exp_covars(dat.file="GreatFallsDat.Rdata",fit.file = "standgauss.R",decay=.2,interests=c("moist","precip","temp","fit.tot"))
exp_covars(dat.file="ithacaDat.Rdata",fit.file = "standgauss.R",decay=.2,interests=c("moist","precip","temp","fit.tot"))
exp_covars(dat.file="RapidCityDat.RData",fit.file = "standgauss.R",decay=.2,interests=c("moist","precip","temp","fit.tot"))
exp_covars(dat.file="davisDat.Rdata",fit.file = "standgauss.R",decay=10,interests=c("dtemp","dprecip","dmoist","fit.tot"))
exp_covars(dat.file="davisDat.Rdata",fit.file = "standgauss.R",decay=.1,interests=c("dtemp","dprecip","dmoist","fit.tot"))
exp_covars(dat.file="davisDat.Rdata",fit.file = "standgauss.R",decay=.1,interests=c(,"dprecip","moist","dmoist","fit.tot"))
exp_covars(dat.file="davisDat.Rdata",fit.file = "standgauss.R",decay=.1,interests=c("dprecip","moist","dmoist","fit.tot"))
exp_covars(dat.file="davisDat.Rdata",fit.file = "standgauss.R",decay=.1,interests=c("cutemp","moist","dmoist","fit.tot"))
#Script to use exp_fitfun() to look at fitness functions
set_wrkdir<-function(){
#function for setting working directory to the right place given the current computer/user
if(Sys.getenv("USERNAME")=="Collin" || Sys.getenv("USERNAME")=="collin" || Sys.getenv("USERNAME")=="Collin.work"){ #If it's collin
if(Sys.info()["nodename"]=="DESKTOP-D6QSU8F"){
setwd("G:\\Repos\\phenology-cues") #desktop
}else{
setwd("C:\\Repos\\phenology-cues") #desktop
}
}else{
if(Sys.getenv("COMPUTERNAME")=="ENT-YANG01"){
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")#desktop
}else{
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")} #laptop
}
}
set_wrkdir()
source("scripts/exploratory/explore_funs.R")
cat("fitness files you might use:")
list.files("fitcurve/")
cat("Climate data files we can use:")
list.files("data-years/")
x11()
#Example call of the function:
exp_covars(dat.file="davisDat.Rdata",fit.file = "standgauss.R",decay=.1,interests=c("dcutemp","moist","dmoist","fit.tot"))
set_wrkdir<-function(){
#function for setting working directory to the right place given the current computer/user
if(Sys.getenv("USERNAME")=="Collin" || Sys.getenv("USERNAME")=="collin" || Sys.getenv("USERNAME")=="Collin.work"){ #If it's collin
if(Sys.info()["nodename"]=="DESKTOP-D6QSU8F"){
setwd("G:\\Repos\\phenology-cues") #desktop
}else{
setwd("C:\\Repos\\phenology-cues") #desktop
}
}else{
if(Sys.getenv("COMPUTERNAME")=="ENT-YANG01"){
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")#desktop
}else{
setwd("C:\\Users\\louie\\Documents\\GitHub\\phenology-cues")} #laptop
}
}
set_wrkdir()
source("scripts/exploratory/explore_funs.R")
cat("fitness files you might use:")
list.files("fitcurve/")
cat("Climate data files we can use:")
list.files("data-years/")
x11()
#Example call of the function:
exp_corr(dat.file="ithacaDat.Rdata")
#Full list of traits:
x11()
exp_corr(dat.file="RapidCityDat.Rdata",
traits=c("day","year", "precip", "temp",   "moist", "dprecip","dtemp","dmoist", "cutemp", "cuprecip",
"daysq",  "tempsq", "precipsq", "cutempsq", "cuprecipsq"),
fit.file = "skewgauss.R"
)
exp_corr(dat.file="RapidCityDat.Rdata",
traits=c("day","year", "precip", "temp",   "moist", "dprecip","dtemp","dmoist", "cutemp", "cuprecip",
"daysq",  "tempsq", "precipsq", "cutempsq", "cuprecipsq"),
fit.file = "skewgauss.R"
)
source("scripts/exploratory/explore_funs.R")
cat("fitness files you might use:")
list.files("fitcurve/")
cat("Climate data files we can use:")
list.files("data-years/")
exp_corr(dat.file="RapidCityDat.Rdata",
traits=c("day", "precip", "temp",   "moist"),
fit.file = "skewgauss.R"
)
exp_corr(dat.file="ithacaDat.Rdata",
traits=c("day", "precip", "temp",   "moist"),
fit.file = "skewgauss.R"
)
exp_corr(dat.file="ithacaDat.Rdata",
traits=c("day", "precip", "temp",   "moist"),
fit.file = "standgauss.R"
)
x11()
exp_corr(dat.file="Davisdat.Rdata",
traits=c("day", "precip", "temp",   "moist"),
fit.file = "standgauss.R"
)
exp_corr(dat.file="Davisdat.Rdata",
traits=c("day", "precip", "temp",   "moist"),
fit.file = "standgauss.R",decay=.1
)
exp_covars(dat.file="davisDat.
x11()
exp_covars(dat.file="davisDat.Rdata",fit.file = "standgauss.R",decay=.1,interests=c("dcutemp","moist","dmoist","fit.tot"))
exp_covars(dat.file="davisDat.Rdata",fit.file = "standgauss.R",decay=.1,interests=c("temp","tempsqr","fit.tot"))
exp_covars(dat.file="davisDat.Rdata",fit.file = "standgauss.R",decay=.1,interests=c("temp","tempsq","fit.tot"))
x11()
exp_covars(dat.file="davisDat.Rdata",fit.file = "standgauss.R",decay=.1,interests=c("temp","tempsq","fit.tot"))
exp_corr(dat.file="Davisdat.Rdata",
traits=c("temp", "cutemp"),
fit.file = "standgauss.R",decay=.1
)
x11()
exp_corr(dat.file="Davisdat.Rdata",
traits=c("temp", "cutemp"),
fit.file = "standgauss.R",decay=.1
)
